<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Carto</title>


  <!-- ‘France Choropleth’ dependencies -->

  <link href="https://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.0.0/awesomplete.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-beta.1/leaflet.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-beta.1/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.0.0/awesomplete.min.js"></script>


  <!-- ‘France Choropleth’ script and style -->

  <script src="france.js"></script>
  <link href="france.css" rel="stylesheet" />

</head>

<body>

  <!-- Div containing the future map -->

  <div id="map" style="height: 1000px"></div>

  <script>


   // Create the map with Leaflet

    var map = L.map("map",{ center: [47.3, -2.1],
                            zoom: 8,
                            minZoom: 1,
                            maxZoom: 9,
							scrollWheelZoom: 0 }
					)
					.addLayer(L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}.{ext}',
										 { attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
										   subdomains: 'abcd',
										   minZoom: 0,
										   maxZoom: 20,
										   ext: 'png'
										 })
							  );
//                .addLayer(new L.tileLayer('https://cartodb-basemaps-b.global.ssl.fastly.net/light_nolabels/{z}/{x}/{y}.png', { subdomains: 'abcd', detectRetina: 1 }));


    // Create the choropleth with layers

    var choropleth = new france(map,
                          {
                             stat: 'imps',
                             file: 'data/stats/imps.csv',
                            title: ['Nb de jours pour 50K impressions Premium',''],
                           domain: [7,30,60,100,150],
                            range: ['#1a9641', '#a6d96a', '#ffffbf', '#fdae61','#ff5c33'],
                             unit: 'jours',
                             plus: ''
                          },
                          {
                             stat: 'impsp',
                             file: 'data/stats/impsp.csv',
                            title: ["Nb d'impressions par jour",''],
                           domain: [150,800,1600,6000,20000],
                            range: ['#ff5c33','#fdae61','#ffffbf','#a6d96a','#1a9641'],
                             unit: 'impressions/jour',
                             plus: ''
                          }

                        );

  </script>

</body>
</html>
